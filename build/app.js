!function e(t,n,r){function a(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return a(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){(function(t){t.HEIGHT=window.innerHeight,t.WIDTH=window.innerWidth,t.RADIUS=50,t.DISTANCE=100;var n=window.$,r=(window.TimelineMax,window.Ease,e("./globe/globe.js")),a=e("./sliders/events.js"),i=e("./utils/tooltip.js"),o=e("./utils/button.js");t.g=new r(n("#globe"),function(){t.g.commands.goTo(" Les Sables d'Olonne",!0),n.fn.autoInc(function(){n("#fullpage").fullpage({afterLoad:a.afterLoad,onLeave:function(e,t,n){return"up"==n?!1:void 0},lockAnchors:!0}),i(),o.start(),n(".player").YTPlayer(),n(".player").each(function(){try{n(this).YTPPause()}catch(e){}})})})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./globe/globe.js":4,"./sliders/events.js":20,"./utils/button.js":23,"./utils/tooltip.js":25}],2:[function(e,t,n){(function(r){var a=window.THREE,i=e("../utils/coords.js");t.exports=n=function(e){var t=this;this.markers=new a.Group,e.add(this.markers),this._add=function(e){var n=t.baseMesh.clone(),a=i.latLongToVector3(e.lat,e["long"],.985*r.RADIUS);n.position.copy(a),n.lookAt(t.markers.position),t.markers.add(n),e.marker=n};this.hide=function(){t.markers.traverse(function(e){e.visible=!1})},this.show=function(){t.markers.traverse(function(e){e.visible=!0})}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/coords.js":14}],3:[function(e,t,n){var r=window.THREE,a=e("./markers.js");t.exports=n=function(e,t){a.call(this,e.earth);var n=this;this.createBaseMesh=function(t){n.baseMesh=new r.Group;var a=new r.Mesh(new r.CylinderGeometry(.7,.7,1,8,1),i);a.geometry.applyMatrix((new r.Matrix4).makeRotationX(.5*-Math.PI)),n.baseMesh.add(a);var o=new r.TextGeometry(t,{font:e.assets.font,height:.4,size:1.5}),s=new r.Mesh(o,i),l=(new r.Matrix4).identity();l.elements[0]=-1,l.elements[10]=-1,s.geometry.applyMatrix(l),n.baseMesh.add(s)};var i=new r.MeshPhongMaterial({color:new r.Color("#be1522")});this.list=[];for(var o in t)this.list.push({id:t[o].id,lat:1*t[o].lat,"long":1*t[o]["long"],index:1*t[o].index}),this.createBaseMesh(t[o].id),n._add(this.list[o]);return this.list}},{"./markers.js":2}],4:[function(e,t,n){function r(e,t){var n=this;t||(t=function(){}),this.init=function(e,r){return r=0|r,r===e.length-1?function(){e[r].bind(n)(t)}:function(){e[r].bind(n)(n.init(e,r+1))}},this.container=e,this.scene=new a.Scene,this.init(i)()}var a=window.THREE,i=[e("./init/commands.js"),e("./init/assets.js"),e("./init/camera.js"),e("./init/light.js"),e("./init/renderer.js"),e("./init/solids.js"),e("./init/path.js"),e("./init/steps.js")];t.exports=n=r},{"./init/assets.js":5,"./init/camera.js":6,"./init/commands.js":7,"./init/light.js":8,"./init/path.js":9,"./init/renderer.js":10,"./init/solids.js":11,"./init/steps.js":12}],5:[function(e,t,n){var r=window.THREE,a=window.$,i=new r.LoadingManager;i.onProgress=function(e,t,n){console.log(e,t,n)};var o={obj:new r.OBJLoader(i),font:new r.FontLoader(i),data:{load:a.getJSON}};t.exports=n=function(e){var t=this;this.loads=function(n,r){return r=0|r,r===n.length-1?function(){o[n[r][0]].load(n[r][1],function(a){t.assets[n[r][2]]=a,e()})}:function(){o[n[r][0]].load(n[r][1],function(e){t.assets[n[r][2]]=e,t.loads(n,r+1)()})}},this.assets={};var n=[["obj","assets/obj/globe.obj","globe"],["font","assets/font/droid.typeface.js","font"],["data","assets/data/GPSPath.json","path"],["data","assets/data/steps.json","steps"]];this.loads(n)()}},{}],6:[function(e,t,n){(function(e){var r=window.THREE;t.exports=n=function(t){this.camera=new r.PerspectiveCamera(75,e.WIDTH/e.HEIGHT,.1,1e3),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=1.4*e.DISTANCE,this.scene.add(this.camera),t()}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){function r(e,t,n){var a=e.pathView[e.pathIndex];l.to(e.camera.position,t,{x:a.x,y:a.y,z:a.z,onComplete:function(){e.pathIndex++,e.pathIndex<e.pathView.length?r(e,t,n):n&&(l.ticker.removeEventListener("tick",e.render),n())}}),l.to(e.boat.position,t,e.pathBoat[e.pathIndex])}function a(e,t,n){var r=e.pathView[e.pathIndex];l.to(e.camera.position,t,{x:r.x,y:r.y,z:r.z,onComplete:function(){return e.pathIndex===e.steps[e.stepIndex].index?(e.pathIndex=e.steps[e.stepIndex].index,e.stepIndex=(e.stepIndex+1)%e.steps.length,void(n&&(l.ticker.removeEventListener("tick",e.render),n()))):e.pathIndex>=e.pathView.length-1?(e.pathIndex=1,e.stepIndex=1,l.ticker.removeEventListener("tick",e.render),void n()):(e.pathIndex++,void a(e,t,n))}})}function i(e,t,n){var r=e.pathView[e.pathIndex];l.to(e.camera.position,t,{x:r.x,y:r.y,z:r.z,onComplete:function(){return e.stepIndex-2===-1&&(e.stepIndex=e.steps.length+1,e.pathIndex=e.pathView.length-1),e.pathIndex===e.steps[e.stepIndex-2].index?(e.pathIndex=e.steps[e.stepIndex-2].index,e.stepIndex=e.stepIndex-1,l.ticker.removeEventListener("tick",e.render),void n()):0===e.pathIndex?(e.pathIndex=1,e.stepIndex=1,l.ticker.removeEventListener("tick",e.render),void n()):(e.pathIndex--,void i(e,t,n))}})}function o(e,t,n){var r,a;if(e.steps[t])r=e.steps[t],a=t;else{for(var i in e.steps)if(e.steps[i].id===t){r=e.steps[i];break}a=1*i}var o;o=n?e.firstPoint:e.pathView[r.index],e.stepIndex=a+1,e.pathIndex=r.index+1,e.camera.position.x=o.x,e.camera.position.y=o.y,e.camera.position.z=o.z}function s(e,t,n){l.to(e.camera.position,t,{x:e.pathView[1].x,y:e.pathView[1].y,z:e.pathView[1].z,onComplete:function(){l.ticker.removeEventListener("tick",e.render),n()},ease:c.easeOut.config(1.7)})}var l=window.TweenMax,c=window.Back;t.exports=n=function(e){var t=this;this.pathIndex=1,this.stepIndex=1,this.commands={},this.commands.fullPath=function(e,n){l.ticker.addEventListener("tick",t.render),t.pathIndex=0,this.stepIndex=0,n||(n=function(){}),r(t,e,n)},this.commands.nextStep=function(e,n){l.ticker.addEventListener("tick",t.render),n||(n=function(){}),a(t,e,n)},this.commands.previousStep=function(e,n){l.ticker.addEventListener("tick",t.render),n||(n=function(){}),i(t,e,n)},this.commands.goTo=function(e,n){o(t,e,n),t.render()},this.commands.zoom=function(e,n){l.ticker.addEventListener("tick",t.render),s(t,e,n)},e()}},{}],8:[function(e,t,n){var r=window.THREE;t.exports=n=function(e){var t=new r.PointLight(16777215,.5);this.camera.add(t),e()}},{}],9:[function(e,t,n){(function(r){function a(e){var t=new i.Geometry;t.vertices=e.path;var n=new i.LineBasicMaterial({color:new i.Color("#cca058"),opacity:1,linewidth:50});this.pathWay=new i.Line(t,n),e.earth.add(this.pathWay)}var i=window.THREE,o=e("../utils/coords.js");t.exports=n=function(e){this.path=[],this.pathView=[],this.pathBoat=[];for(var t in this.assets.path){var n=this.assets.path[t];this.path.push(o.latLongToXYZ(n.a,n.o,.985*r.RADIUS)),this.pathView.push(o.latLongToXYZ(n.a,n.o,r.DISTANCE)),this.pathBoat.push(o.latLongToXYZ(n.a,n.o,r.RADIUS+1))}this.firstPoint=o.latLongToXYZ(this.assets.path[0].a,this.assets.path[0].o,1.4*r.DISTANCE),this.pathWay=a(this),e()}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/coords.js":14}],10:[function(e,t,n){(function(r){var a=window.THREE,i=window.$,o=e("../utils/resize.js"),s=e("../render.js");t.exports=n=function(e){var t=this;this.renderer=new a.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(r.WIDTH,r.HEIGHT),this.container.append(this.renderer.domElement),this.render=s.bind(this),o(this.renderer,this.camera),e(),i(window).resize(function(){t.render()})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../render.js":13,"../utils/resize.js":15}],11:[function(e,t,n){(function(e){var r=window.THREE;r.ShaderLib.water={uniforms:r.UniformsUtils.merge([r.UniformsLib.fog,{normalSampler:{type:"t",value:null},mirrorSampler:{type:"t",value:null},alpha:{type:"f",value:1},time:{type:"f",value:0},distortionScale:{type:"f",value:20},noiseScale:{type:"f",value:1},textureMatrix:{type:"m4",value:new r.Matrix4},sunColor:{type:"c",value:new r.Color(8355711)},sunDirection:{type:"v3",value:new r.Vector3(.70707,.70707,0)},eye:{type:"v3",value:new r.Vector3(0,0,0)},waterColor:{type:"c",value:new r.Color(5592405)}}]),vertexShader:["uniform mat4 textureMatrix;","uniform float time;","varying vec4 mirrorCoord;","varying vec3 worldPosition;","varying vec3 modelPosition;","varying vec3 surfaceX;","varying vec3 surfaceY;","varying vec3 surfaceZ;","void main()","{","  mirrorCoord = modelMatrix * vec4(position, 1.0);","  worldPosition = mirrorCoord.xyz;","  modelPosition = position;","  surfaceX = vec3( modelMatrix[0][0], modelMatrix[0][1], modelMatrix[0][2]);","  surfaceY = vec3( modelMatrix[1][0], modelMatrix[1][1], modelMatrix[1][2]);","  surfaceZ = vec3( modelMatrix[2][0], modelMatrix[2][1], modelMatrix[2][2]);","  mirrorCoord = textureMatrix * mirrorCoord;","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["uniform sampler2D mirrorSampler;","uniform float alpha;","uniform float time;","uniform float distortionScale;","uniform float noiseScale;","uniform sampler2D normalSampler;","uniform vec3 sunColor;","uniform vec3 sunDirection;","uniform vec3 eye;","uniform vec3 waterColor;","varying vec4 mirrorCoord;","varying vec3 worldPosition;","varying vec3 modelPosition;","varying vec3 surfaceX;","varying vec3 surfaceY;","varying vec3 surfaceZ;","void sunLight(const vec3 surfaceNormal, const vec3 eyeDirection, in float shiny, in float spec, in float diffuse, inout vec3 diffuseColor, inout vec3 specularColor)","{","  vec3 reflection = normalize(reflect(-sunDirection, surfaceNormal));","  float direction = max(0.0, dot(eyeDirection, reflection));","  specularColor += pow(direction, shiny) * sunColor * spec;","  diffuseColor += max(dot(sunDirection, surfaceNormal), 0.0) * sunColor * diffuse;","}","vec3 getNoise(in vec2 uv)","{","  vec2 uv0 = uv / (103.0 * noiseScale) + vec2(time / 17.0, time / 29.0);","  vec2 uv1 = uv / (107.0 * noiseScale) - vec2(time / -19.0, time / 31.0);","  vec2 uv2 = uv / (vec2(8907.0, 9803.0) * noiseScale) + vec2(time / 101.0, time /   97.0);","  vec2 uv3 = uv / (vec2(1091.0, 1027.0) * noiseScale) - vec2(time / 109.0, time / -113.0);","  vec4 noise = texture2D(normalSampler, uv0) +","    texture2D(normalSampler, uv1) +","    texture2D(normalSampler, uv2) +","    texture2D(normalSampler, uv3);","  return noise.xyz * 0.5 - 1.0;","}",r.ShaderChunk.common,r.ShaderChunk.fog_pars_fragment,"void main()","{","  vec3 worldToEye = eye - worldPosition;","  vec3 eyeDirection = normalize(worldToEye);","  vec3 noise = getNoise(modelPosition.xy * 1.0);","  vec3 distordCoord = noise.x * surfaceX + noise.y * surfaceY;","  vec3 distordNormal = distordCoord + surfaceZ;","  if(dot(eyeDirection, surfaceZ) < 0.0)","    distordNormal = distordNormal * -1.0;","  vec3 diffuseLight = vec3(0.0);","  vec3 specularLight = vec3(0.0);","  sunLight(distordNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight);","  float distance = length(worldToEye);","  vec2 distortion = distordCoord.xy * distortionScale * sqrt(distance) * 0.07;"," vec3 mirrorDistord = mirrorCoord.xyz + vec3(distortion.x, distortion.y, 1.0);"," vec3 reflectionSample = texture2DProj(mirrorSampler, mirrorDistord).xyz;","  float theta = max(dot(eyeDirection, distordNormal), 0.0);","  float reflectance = 0.3 + (1.0 - 0.3) * pow((1.0 - theta), 3.0);","  vec3 scatter = max(0.0, dot(distordNormal, eyeDirection)) * waterColor;","  vec3 albedo = mix(sunColor * diffuseLight * 0.3 + scatter, (vec3(0.1) + reflectionSample * 0.9 + reflectionSample * specularLight), reflectance);"," vec3 outgoingLight = albedo;",r.ShaderChunk.fog_fragment," gl_FragColor = vec4( outgoingLight, alpha );","}"].join("\n")},r.Water=function(e,t,n,a){function i(e,t){return void 0!==e?e:t}r.Object3D.call(this),this.name="water_"+this.id,a=a||{},this.matrixNeedsUpdate=!0;var o=i(a.textureWidth,512),s=i(a.textureHeight,512);this.clipBias=i(a.clipBias,-1e-4),this.alpha=i(a.alpha,1),this.time=i(a.time,0),this.normalSampler=i(a.waterNormals,null),this.sunDirection=i(a.sunDirection,new r.Vector3(.70707,.70707,0)),this.sunColor=new r.Color(i(a.sunColor,16777215)),this.waterColor=new r.Color(i(a.waterColor,8355711)),this.eye=i(a.eye,new r.Vector3(0,0,0)),this.distortionScale=i(a.distortionScale,20),this.noiseScale=i(a.noiseScale,1),this.side=i(a.side,r.FrontSide),this.fog=i(a.fog,!1),this.renderer=e,this.scene=n,this.mirrorPlane=new r.Plane,this.normal=new r.Vector3(0,0,1),this.cameraWorldPosition=new r.Vector3,this.rotationMatrix=new r.Matrix4,this.lookAtPosition=new r.Vector3(0,0,-1),this.clipPlane=new r.Vector4,t instanceof r.PerspectiveCamera?this.camera=t:(this.camera=new r.PerspectiveCamera,console.log(this.name+": camera is not a Perspective Camera!")),this.textureMatrix=new r.Matrix4,this.mirrorCamera=this.camera.clone(),this.texture=new r.WebGLRenderTarget(o,s),this.tempTexture=new r.WebGLRenderTarget(o,s);var l=r.ShaderLib.water,c=r.UniformsUtils.clone(l.uniforms);this.material=new r.ShaderMaterial({fragmentShader:l.fragmentShader,vertexShader:l.vertexShader,uniforms:c,transparent:!0,side:this.side,fog:this.fog}),this.mesh=new r.Object3D,this.material.uniforms.mirrorSampler.value=this.texture,this.material.uniforms.textureMatrix.value=this.textureMatrix,this.material.uniforms.alpha.value=this.alpha,this.material.uniforms.time.value=this.time,this.material.uniforms.normalSampler.value=this.normalSampler,this.material.uniforms.sunColor.value=this.sunColor,this.material.uniforms.waterColor.value=this.waterColor,this.material.uniforms.sunDirection.value=this.sunDirection,this.material.uniforms.distortionScale.value=this.distortionScale,this.material.uniforms.noiseScale.value=this.noiseScale,this.material.uniforms.eye.value=this.eye,r.Math.isPowerOfTwo(o)&&r.Math.isPowerOfTwo(s)||(this.texture.generateMipmaps=!1,this.tempTexture.generateMipmaps=!1)},r.Water.prototype=Object.create(r.Object3D.prototype),r.Water.prototype.renderWithMirror=function(e){this.updateTextureMatrix(),this.matrixNeedsUpdate=!1;var t=e.camera;e.camera=this.mirrorCamera,e.render(!0),this.render(),this.matrixNeedsUpdate=!0,e.camera=t,e.updateTextureMatrix()},r.Water.prototype.updateTextureMatrix=function(){function e(e){return e?0>e?-1:1:0}void 0!==this.parent&&(this.mesh=this.parent),this.updateMatrixWorld(),this.camera.updateMatrixWorld(),this.cameraWorldPosition.setFromMatrixPosition(this.camera.matrixWorld),this.rotationMatrix.extractRotation(this.matrixWorld),this.normal=new r.Vector3(0,0,1).applyEuler(this.mesh.rotation);var t=this.camera.position.clone().sub(this.mesh.position);if(this.normal.dot(t)<0){var n=new r.Vector3(0,0,1).applyEuler(this.mesh.rotation);this.normal.reflect(n)}var a=this.mesh.position.clone().sub(this.cameraWorldPosition);a.reflect(this.normal).negate(),a.add(this.mesh.position),this.rotationMatrix.extractRotation(this.camera.matrixWorld),this.lookAtPosition.set(0,0,-1),this.lookAtPosition.applyMatrix4(this.rotationMatrix),this.lookAtPosition.add(this.cameraWorldPosition);var i=this.mesh.position.clone().sub(this.lookAtPosition);i.reflect(this.normal).negate(),i.add(this.mesh.position),this.up.set(0,-1,0),this.up.applyMatrix4(this.rotationMatrix),this.up.reflect(this.normal).negate(),this.mirrorCamera.position.copy(a),this.mirrorCamera.up=this.up,this.mirrorCamera.lookAt(i),this.mirrorCamera.aspect=this.camera.aspect,this.mirrorCamera.updateProjectionMatrix(),this.mirrorCamera.updateMatrixWorld(),this.mirrorCamera.matrixWorldInverse.getInverse(this.mirrorCamera.matrixWorld),this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.mirrorCamera.projectionMatrix),this.textureMatrix.multiply(this.mirrorCamera.matrixWorldInverse),this.mirrorPlane.setFromNormalAndCoplanarPoint(this.normal,this.mesh.position),this.mirrorPlane.applyMatrix4(this.mirrorCamera.matrixWorldInverse),this.clipPlane.set(this.mirrorPlane.normal.x,this.mirrorPlane.normal.y,this.mirrorPlane.normal.z,this.mirrorPlane.constant);var o=new r.Vector4,s=this.mirrorCamera.projectionMatrix;o.x=(e(this.clipPlane.x)+s.elements[8])/s.elements[0],o.y=(e(this.clipPlane.y)+s.elements[9])/s.elements[5],o.z=-1,o.w=(1+s.elements[10])/s.elements[14];var l=new r.Vector4;l=this.clipPlane.multiplyScalar(2/this.clipPlane.dot(o)),s.elements[2]=l.x,s.elements[6]=l.y,s.elements[10]=l.z+1-this.clipBias,s.elements[14]=l.w;var c=new r.Vector3;c.setFromMatrixPosition(this.camera.matrixWorld),this.eye=c,this.material.uniforms.eye.value=this.eye},r.Water.prototype.render=function(e){if(this.matrixNeedsUpdate&&this.updateTextureMatrix(),this.matrixNeedsUpdate=!0,void 0!==this.scene&&this.scene instanceof r.Scene){this.material.visible=!1;var t=void 0!==e&&e?this.tempTexture:this.texture;this.renderer.render(this.scene,this.mirrorCamera,t,!0),this.material.visible=!0,this.material.uniforms.mirrorSampler.value=t}},t.exports=n=function(t){this.earth=new r.Group,this.scene.add(this.earth);var n=new r.MeshLambertMaterial({color:new r.Color("#2b4c7e")}),a=new r.Mesh(new r.SphereGeometry(.985*e.RADIUS,e.RADIUS,e.RADIUS),n);this.earth.add(a);var i=new r.MeshLambertMaterial({color:new r.Color("#3d8c6a")}),o=this.assets.globe;o.scale.set(e.RADIUS,e.RADIUS,e.RADIUS),o.position.z=0,o.traverse(function(e){e instanceof r.Mesh&&(e.material=i)}),this.earth.add(o),t()}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){var r=e("../factories/steps.js");t.exports=n=function(e){this.steps=r(this,this.assets.steps),e()}},{"../factories/steps.js":3}],13:[function(e,t,n){var r=window.THREE;e("./utils/coords.js");t.exports=n=function(){var e=this;this.camera.lookAt(new r.Vector3(0,0,0)),e.renderer.render(this.scene,this.camera)}},{"./utils/coords.js":14}],14:[function(e,t,n){var r=window.THREE,a={degToRad:function(e){return e/180*Math.PI},toRadians:function(e,t){return{lat:a.degToRad(-e)+.5*Math.PI,"long":a.degToRad(-t)+.5*Math.PI}},toSpherical:function(e,t,n){var r=a.toRadians(e,t);return{lat:r.lat,"long":r["long"],radius:n}},sphericalToXYZ:function(e){return{x:e.radius*Math.cos(e["long"])*Math.sin(e.lat),y:e.radius*Math.cos(e.lat),z:e.radius*Math.sin(e["long"])*Math.sin(e.lat)}},latLongToXYZ:function(e,t,n){return a.sphericalToXYZ(a.toSpherical(e,t+90,n))},latLongToVector3:function(e,t,n){var i=a.latLongToXYZ(e,t,n);return new r.Vector3(i.x,i.y,i.z)},dist:function(e,t){return Math.abs(e.lat-t.lat)+Math.abs(e["long"]-t["long"])},align:function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z},a=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2)+Math.pow(r.z,2)),i={x:r.x/a,y:r.y/a,z:r.z/a};return{x:t.x+i.x*n,y:t.y+i.y*n,z:t.z+i.z*n}}};t.exports=n=a},{}],15:[function(e,t,n){window.THREE;t.exports=n=function(e,t){var n=function(){e.setSize(window.innerWidth,window.innerHeight),t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix()};return window.addEventListener("resize",n,!1),{stop:function(){window.removeEventListener("resize",n)}}}},{}],16:[function(e,t,n){function r(e){e.style("cursor","pointer").style("opacity",1)}function a(e,t,n){t.style("cursor","auto"),(n||d!==e)&&t.style("opacity",.7)}function i(e,t){p&&a(d,p,!0),p=t,d=e,r(t),f.select("#pieges_boat_name").text(e.name),f.select("#pieges_boat_abandons_number").text(e.nb),f.select("#pieges_boat_text").text(e.data)}function o(e){e.style("cursor","pointer").style("opacity",1)}function s(e,t,n){t.style("cursor","auto"),(n||m!==e)&&t.style("opacity",.7)}function l(e,t){h&&s(m,h,!0),h=t,m=e,o(t),f.select("#pieges_map_point_name").text(e.name),f.select("#pieges_map_abandons_number").text(e.nb),f.select("#pieges_map_abandons_list").html(e.data)}function c(){var e=f.select(document.getElementById("pieges_boat_boat").contentDocument);e.select("#bateau").attr("transform","translate(-150, 0)").transition().ease("bounce").duration(800).attr("transform","translate(0, 0)"),e.selectAll("circle").each(function(e,t,n){var r=f.select(this),a=r.attr("r");r.attr("r",0).transition().ease("bounce").delay(400+100*t).duration(800).attr("r",a)}),f.select("#pieges_boat_boat").style("visibility","visible")}function u(){var e=f.select(document.getElementById("pieges_map_map").contentDocument);e.selectAll("path").attr("opacity",0).transition().duration(400).attr("opacity",1),e.selectAll("circle").each(function(e,t,n){var r=f.select(this),a=r.attr("r");r.attr("r",0).transition().ease("bounce").delay(400+100*t).duration(800).attr("r",a)}),f.select("#pieges_map_map").style("visibility","visible")}var d,p,m,h,f=window.d3,v=[{key:"point_quille",name:"Quille",nb:8,data:"La quille d’un bateau correspond à la partie inférieure de la coque. C’est le véritable casse-tête des constructeurs puisque cet équipement pèse 30% du poids total du bateau. Il est fréquent qu'elle soit endommagée par des objets flottants."},{key:"point_cabine",name:"Raisons médicales",nb:3,data:"Guy Bernardin a dû abandonner la course à cause d'une rage de dent en 1990. En 2008 Yann Eliès a été victime d’une fracture du fémur, ce qui l’a contraint à arrêter la course."},{key:"point_mat",name:"Dématage",nb:11,data:""},{key:"point_safran",name:"Safran",nb:7,data:"Le safran est une partie immergée du gouvernail d’un bateau."},{key:"point_greement",name:"Chavirage / retournement",nb:8,data:""}],g=[{key:"golf_gascogne",name:"Golf de Gascogne",nb:5,data:"Décès du skipper<br/>Dématages<br/>Problèmes techniques"},{key:"sables_olonne",name:"Sables d'Olonne",nb:2,data:"Délaminage<br/>Manque de préparation"},{key:"cap_leeuwin",name:"Cap Leeuwin",nb:2,data:"Dématage<br/>Accident corporel"},{key:"cap_bonne_esperence",name:"Cap de Bonne Espérance",nb:2,data:"Bome arraché<br/>Quille détruite"},{key:"new_zealand",name:"Nouvelle Zélande",nb:4,data:"Avarie<br/>Problème de quille<br/>Problème de grand voile<br/>Assistance reçue"}];t.exports=n=function(){v.forEach(function(e){var t=f.select(document.getElementById("pieges_boat_boat").contentDocument).select("#"+e.key);t.on("mouseenter",function(){r(t)}),t.on("mouseleave",function(){a(e,t)}),t.on("click",function(){i(e,t)}),t.style("transition","opacity 0.5s")}),g.forEach(function(e){var t=f.select(document.getElementById("pieges_map_map").contentDocument).select("#"+e.key);t.on("mouseenter",function(){o(t)}),t.on("mouseleave",function(){s(e,t)}),t.on("click",function(){l(e,t)}),t.style("transition","opacity 0.5s")}),i(v[2],f.select(document.getElementById("pieges_boat_boat").contentDocument).select("#point_mat")),l(g[2],f.select(document.getElementById("pieges_map_map").contentDocument).select("#cap_leeuwin")),c(),u()}},{}],17:[function(e,t,n){var r=window.d3;t.exports=n=function(){function e(e){var t=r.selectAll("g.bar").data(e);t.selectAll("rect.malebar").transition().attr("width",function(e){return v(e.practice)}),t.selectAll("rect.femalebar").transition().attr("x",function(e){return s-m*v(e.gain)-2*o}).attr("width",function(e){return m*v(e.gain)}),t.selectAll("text.malebar").text(function(e){return g(e.practice)}).transition().attr("x",function(e){return s+v(e.practice)}),t.selectAll("text.femalebar").text(function(e){return g(e.gain)}).transition().attr("x",function(e){return s-m*v(e.gain)-2*o})}var t=[{event:"Vendée Globe 2012",practice:112456,gain:1.42},{event:"Paris-Dakar 2016",practice:2889,gain:17.31},{event:"Touquet 2015",practice:182,gain:82.42},{event:"Tour de France 2015",practice:5146,gain:87.45},{event:"24h du Mans 2015",practice:1440,gain:138.89},{event:"Marathon de Paris 2015",practice:129,gain:387.6},{event:"Rolland Garros 2015",practice:955,gain:1884.82}],n=.6*window.innerWidth,a=.7*window.innerHeight,i=40,o=110,s=n/2+o,l=15,c=12,u=r.max(t.map(function(e){return Math.max(e.practice,e.gain)})),d="Gain / Minute (€/min)",p="Temps de pratique (min)",m=r.max(t.map(function(e){return e.practice}))/r.max(t.map(function(e){return e.gain})),h=n-s-l,f=(a/t.length-50,r.scale.linear().domain([0,t.length]).range([0,a-i])),v=r.scale.linear().domain([0,u]).range([0,h-o+20]),g=r.format(",.0f"),x=r.select("#vis").append("svg").attr("width",n).attr("height",a);x.style("opacity",0).transition().duration(500).style("opacity",1),x.append("text").attr("class","titre").text(d).attr("x",n-s).attr("y",i-15).attr("text-anchor","end"),x.append("text").attr("class","titre").text(p).attr("x",s).attr("y",i-15);var y=x.selectAll("g.bar").data(t).enter().append("g").attr("class","bar").attr("transform",function(e,t){return"translate(0,"+(f(t)+i)+")"}),w=function(e){return function(t,n){y.filter(function(e,t){return n===t}).attr("class",e)}},b=a/t.length+1-c;3>b&&(b=3),y.on("mouseover",w("highlight bar")).on("mouseout",w("bar")),y.append("rect").attr("class","femalebar").attr("height",b).attr("rx",5).attr("ry",5),y.append("text").attr("class","femalebar").attr("dx",-16).attr("dy","1em").attr("text-anchor","end"),y.append("rect").attr("class","malebar").attr("height",b).attr("x",s).attr("rx",5).attr("ry",5),y.append("text").attr("class","malebar").attr("dx",16).attr("dy","1em"),y.append("text").attr("class","shared event").attr("x",n/2).attr("dy","1em").attr("text-anchor","middle").text(function(e){return e.event}),r.select("#generate").on("click",function(){e(t)}),e(t)}},{}],18:[function(e,t,n){function r(e){e().forEach(function(e){e.style("fill","#be1522").style("color","#be1522").style("cursor","pointer")})}function a(e,t,n){(n||d!==t)&&e().forEach(function(e){e.style("fill","#2c4c7d").style("color","#2c4c7d").style("cursor","auto")})}function i(e,t){d=t,l(f[t]),$.each(v,function(e,t){a(t,e,!0)}),r(e)}function o(e){e.value&&p.select(".rbc-center-text").text(e.value+"%")}function s(e){e.value&&p.select(".rbc-center-text").text("")}function l(e){p.select("#skipper_radial").select("svg").remove(),new m("#skipper_radial",{diameter:window.innerWidth/9.5,shadow:{width:0},stroke:{width:10,gap:18},round:!1,center:function(e,t,n){return n.value},animation:{duration:1e3},series:e,hover:o,leave:s})}function c(){var e=p.select(document.getElementById("skipper_skipper").contentDocument);e.select("#head").attr("transform","translate(0, -60)").transition().ease("bounce").delay(800).duration(1e3).attr("transform","translate(0, 0)"),e.select("#arms").attr("transform","translate(0, 180)").transition().delay(0).ease("sin").duration(500).attr("transform","translate(0, 0)"),e.select("#legs").attr("transform","translate(0, 150)").transition().delay(500).ease("sin").duration(500).attr("transform","translate(0, 0)"),e.select("#body").attr("transform","translate(0, -160)").transition().ease("sin").duration(500).attr("transform","translate(0, 0)"),u("#skipper_sexe"),u("#skipper_age"),u("#skipper_nat"),u("#skipper_experience"),p.select("#skipper_skipper").style("visibility","visible")}function u(e,t){p.select(e).transition().style("opacity",0).duration(500).each("end",function(){p.select(this).transition().duration(500).style("opacity",1)})}var d,p=window.d3,m=e("../utils/radialChart.js"),h=[{solid:"#0281fc"},{solid:"#0063be"},{solid:"#013667"},{solid:"#00213f"},{solid:"rgba(0,0,0,0)"}],f={sexe:[{labelStart:"",labelGap:0,value:0,color:h[4]},{labelStart:"",labelGap:0,value:0,color:h[4]},{labelStart:"Homme",labelGap:90,value:97,color:h[0]},{labelStart:"Femme",labelGap:85,value:3,color:h[2]}],age:[{labelStart:"18-30",labelGap:63,value:7,color:h[3]},{labelStart:"31-40",labelGap:63,value:51,color:h[2]},{labelStart:"41-50",labelGap:63,value:32,color:h[1]},{labelStart:"51+",labelGap:44,value:10,color:h[0]}],experience:[{labelStart:"4",labelGap:20,value:5,color:h[3]},{labelStart:"3",labelGap:20,value:12,color:h[2]},{labelStart:"2",labelGap:20,value:28,color:h[1]},{labelStart:"1",labelGap:20,value:55,color:h[0]}],nationalite:[{labelStart:"France",labelGap:74,value:62,color:h[3]},{labelStart:"Royaume-Uni",labelGap:144,value:14,color:h[2]},{labelStart:"Suisse",labelGap:70,value:5,color:h[1]},{labelStart:"Autres",labelGap:70,value:18,color:h[0]}]},v={sexe:function(){return[p.select(document.getElementById("skipper_skipper").contentDocument).select("#head"),p.select("#skipper_sexe")]},experience:function(){return[p.select(document.getElementById("skipper_skipper").contentDocument).select("#legs").selectAll("path"),p.select("#skipper_experience")]},nationalite:function(){return[p.select(document.getElementById("skipper_skipper").contentDocument).select("#body"),p.select("#skipper_nat")]},age:function(){return[p.select(document.getElementById("skipper_skipper").contentDocument).select("#arms").selectAll("path"),p.select("#skipper_age")]}};t.exports=n=function(){l(f.age),$.each(v,function(e,t){t().forEach(function(n,o){n.on("mouseenter",function(){r(t)}),n.on("mouseleave",function(){a(t,e)}),n.on("click",function(){i(t,e)}),n.style("transition","all 0.4s")})}),i(v.age,"age"),c()}},{"../utils/radialChart.js":24}],19:[function(e,t,n){function r(e){c.select("[value='"+e+"']").style("opacity",1)}function a(e){console.log(e),1876!=e&&2624!=e&&c.select("[value='"+e+"']").style("opacity",0)}function i(){var e="#victoire_data_evolution",t={top:20,right:38,bottom:30,left:60},n=$(e).width()-t.left-t.right,i=$(e).height()-t.top-t.bottom,o=d.scale.ordinal().rangeRoundBands([n,0]),s=d.scale.linear().range([i,0]),l=d.scale.category10(),p=d.svg.axis().scale(o).orient("bottom"),h=d.svg.axis().scale(s).orient("left").ticks(5),f=d.svg.line().defined(function(e){return""!=e.value}).interpolate("cardinal").x(function(e,t){return o(t)+o.rangeBand()/2}).y(function(e){return s(e.value)}),v=d.select(e).append("svg").attr("width",n+t.left+t.right).attr("height",i+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");v.style("opacity",0).transition().duration(400).style("opacity",1),l.domain(d.keys(m[0]).filter(function(e){return"id"!==e}));var g=l.domain().map(function(e){return{name:e,values:m.map(function(e){return{name:e[2],id:e[0],value:+e[3]}})}});o.domain(d.range(m.length)),s.domain([d.min(g,function(e){return d.min(e.values,function(e){return e.value})}),d.max(g,function(e){return d.max(e.values,function(e){return e.value})})]).nice(),v.append("g").attr("class","x axis").attr("transform","translate(0,"+i+")").call(p).selectAll("text").each(function(e,t,n){this.textContent=m[t][1]}),v.selectAll(".x.axis").append("rect").attr("width",n).attr("height",1).attr("fill","#2c4c7d"),v.append("g").attr("class","y axis").call(h).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Heures");var x=v.selectAll(".line-group").data(g).enter().append("g").attr("class","line-group");x.append("path").attr("class","line").attr("d",function(e){return f(e.values)}).style("stroke",function(e){return l(e.name)}),c=x.append("g").attr("class","valori"),c.selectAll("text").data(function(e,t){return e.values}).enter().append("text").attr("x",function(e,t){return o(t)+o.rangeBand()/2}).attr("y",function(e,t){return s(e.value)}).attr("dx",function(e,t){return 0==t||6==t?25:0}).attr("dy",function(e,t){return 0==t||6==t?-20:30}).attr("value",function(e){return e.value}).style("opacity",function(e,t){return 0==t||6==t?1:0}).style("background-color","white").attr("text-anchor","middle").text(function(e){return e.name}),u=x.append("g").attr("class","line-point"),u.selectAll("circle").data(function(e,t){return e.values}).enter().append("circle").attr("cx",function(e,t){return o(t)+o.rangeBand()/2}).attr("cy",function(e,t){return s(e.value)}).attr("r",0).on("mouseenter",function(e){r(e.value)}).on("mouseleave",function(e){a(e.value)}).transition().delay(function(e,t){return 50*(7-t)}).duration(500).ease("bounce").attr("r",5)}function o(e,t){s(),l&&l.attr("style",null),l=e,e.style("color","#be1522");var n=d.select(document.getElementById("victoire_podium").contentDocument).select("#_1marche1");
n.select(".cls-4").text(p[t].gagnants[0]),n.select(".cls-5").text(p[t].temps[0]);var r=d.select(document.getElementById("victoire_podium").contentDocument).select("#_1marche2");r.select(".cls-4").text(p[t].gagnants[1]),r.select(".cls-5").text(p[t].temps[1]);var a=d.select(document.getElementById("victoire_podium").contentDocument).select("#_1marche3");a.select(".cls-4").text(p[t].gagnants[2]),a.select(".cls-5").text(p[t].temps[2])}function s(){var e=d.select(document.getElementById("victoire_podium").contentDocument);e.select("#_1marche3").attr("transform","translate(0,140)").transition().duration(800).ease("sin").attr("transform","translate(-4, 0)"),e.select("#_1marche2").attr("transform","translate(0,170)").transition().duration(800).delay(150).ease("sin").attr("transform","translate(4, 0)"),e.select("#_1marche1").attr("transform","translate(0,190)").transition().duration(800).delay(300).ease("sin").attr("transform","translate(0, 0)"),d.select("#victoire_podium").style("visibility","visible")}var l,c,u,d=window.d3,p=[{gagnants:["François Gabart","Armel Le Cléac’h","Alex Thomson"],temps:["78 j 2 h 16 min 40s","78 j 5 h 33 min 52s","80 j 19 h 23 min 43 s"]},{gagnants:["Michel Desjoyeaux","Armel Le Cléac’h","Marc Guillemot"],temps:["84 j 3 h 9 min 8 s","89 j 9 h 39 min 35 s","95 j 3 h 19 min 36 s"]},{gagnants:["Vincent Riou","Jean Le Cam","Mike Golding"],temps:["87 j 10 h 47 min 55 s","87 j 17 h 20 min 8 s","88 j 15 h 15 min 13 s"]},{gagnants:["Michel Desjoyeaux","Ellen MacArthur","Roland Jourdain"],temps:["93 j 3 h 57 min","94 j 4 h 25 min","96 j 1 h 2 min"]},{gagnants:["Christophe Auguin","Marc Thiercelin","Hervé Laurent"],temps:["105 j 20 h 31 min","113 j 8 h 26 min","114 j 16 h 43 min"]},{gagnants:["Alain Gautier","J-L Van Den Heede","Philippe Poupon"],temps:["110 j 2 h 22 min 35 s","113 j 8 h 26 min","114 j 16 h 43 min"]},{gagnants:["Titouan Lamazou","Loïck Peyron","Jean-Luc Van Den Heede"],temps:["109 j 08 h 48 min 50 s","110 j 1 h 18 min 6 s","112 j 1 h 14 min 0 s"]}],m=[["1989 — 1990","1989","109 j 08 h 48 min","2624"],["1992 — 1993","1992","110 j 2 h 22 min","2642"],["1996 — 1997","1996","105 j 20 h 31 min","2540"],["2000 — 2001","2000","93 j 3 h 57 min","2235"],["2004 — 2005","2004","87 j 10 h 47 min","2098"],["2008 — 2009","2008","84 j 3 h 9 min","2019"],["2012 — 2013","2012","78 j 2 h 16 min","1876"]].reverse();t.exports=n=function(){var e=d.select("#victoire_meilleur_temps").select("ul").selectAll("li")[0];e.forEach(function(e,t){var n=d.select(e);n.on("click",function(){o(n,t)})}),s(),i()}},{}],20:[function(e,t,n){var r=e("./globeTransitions.js"),a={"page-de-garde":[e("./page-de-garde.js"),!1],data_recomp:[e("./data_recomp.js"),!1],data_skipper:[e("./data_skipper.js"),!1],data_pieges:[e("./data_pieges.js"),!1],data_victoire:[e("./data_victoire.js"),!1]};$.extend(a,r),t.exports=n={afterLoad:function(e,t){console.log(e),a[e]&&a[e][1]>=0&&(a[e][0](),$(".player").each(function(){try{$(this).YTPPause()}catch(e){}}),0==a[e][1]&&(a[e][1]=-1))}}},{"./data_pieges.js":16,"./data_recomp.js":17,"./data_skipper.js":18,"./data_victoire.js":19,"./globeTransitions.js":21,"./page-de-garde.js":22}],21:[function(e,t,n){(function(r){function a(){$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1),r.g.commands.nextStep(.02,function(){setTimeout(function(){$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0)},800)})}var i=e("../utils/button.js");t.exports=n={t1:[function(){i.stop(),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1),r.g.commands.zoom(3,function(){setTimeout(function(){$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0)},800)})},!1],t2:[function(){a()},!1],t3:[function(){a()},!1],t4:[function(){a()},!1],t5:[function(){a()},!1],t6:[function(){a()},!1],t7:[function(){a()},!1],t8:[function(){a()},!1]}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/button.js":23}],22:[function(e,t,n){var r=window.loader_TL;t.exports=n=function(){r.stop(),$("#loader").fadeTo(2e3,0,function(){$("#loader").css("display","none")}),$("#container").css("visibility","visible")}},{}],23:[function(e,t,n){var r,a=window.$,i=window.TweenMax,o=window.Power1;t.exports=n={start:function(){r=i.to("#bottomButton",.5,{bottom:"0%",ease:o.easeInOut,repeat:-1,yoyo:!0})},stop:function(){r.kill(),a("#bottomButton").fadeOut(0)}}},{}],24:[function(e,t,n){"use strict";function r(e,t){function n(e){var t=d[e.index];return t?t:(t=0===e.index?o.options.diameter/2:p[e.index-1]+o.options.stroke.gap,d[e.index]=t,t)}function i(e){var t=p[e.index];return t?t:(t=d[e.index]+o.options.stroke.width,p[e.index]=t,t)}var o=this;o.options=r.normalizeOptions(t);var s=o.options.series,l=40+2*(o.options.diameter/2+o.options.stroke.width*o.options.series.length+(o.options.stroke.gap*o.options.series.length-1)),c=l,u=2*Math.PI,d=[],p=[];o.progress=a.svg.arc().startAngle(0).endAngle(function(e){return e.percentage/100*u}).innerRadius(n).outerRadius(i).cornerRadius(function(e){var t=e.percentage>=90?.1*(100-e.percentage):1;return o.options.stroke.width/2*t}),o.svg=a.select(e).append("svg").attr("width",l).attr("height",c).append("g").attr("transform","translate("+l/2+","+c/2.2+")");var m=o.svg.append("svg:defs");s.forEach(function(e){if(e.color.linearGradient||e.color.radialGradient){var t=r.Gradient.toSVGElement("gradient"+e.index,e.color);m.node().appendChild(t)}}),m=o.svg.append("svg:defs");var h="dropshadow-"+Math.random(),f=m.append("filter").attr("id",h);o.options.shadow.width>0&&(f.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",o.options.shadow.width).attr("result","blur"),f.append("feOffset").attr("in","blur").attr("dx",1).attr("dy",1).attr("result","offsetBlur"));var v=f.append("feMerge");v.append("feMergeNode").attr("in","offsetBlur"),v.append("feMergeNode").attr("in","SourceGraphic"),o.options.center&&o.svg.append("text").attr("class","rbc-center-text").attr("text-anchor","middle").attr("x",o.options.center.x+"px").attr("y",o.options.center.y+"px").selectAll("tspan").data(o.options.center.content).enter().append("tspan").attr("dominant-baseline",function(){return 1===o.options.center.content.length?"central":void 0}).attr("class",function(e,t){return"rbc-center-text-line"+t}).attr("x",0).attr("dy",function(e,t){return t>0?"1.1em":void 0}).each(function(e){}).text(function(e){return""}),o.field=o.svg.selectAll("g").data(s).enter().append("g"),o.field.on("mouseover",function(e){o.options.hover(e)}),o.field.on("mouseleave",function(e){o.options.leave(e)}),o.field.append("path").attr("class","progress").attr("filter","url(#"+h+")").attr("data-value",function(e){return e.value}),o.field.append("text").classed("rbc-label rbc-label-start",!0).attr("dominant-baseline","central").attr("x",function(e){var t=e.labelGap||0;return-t}).attr("class","radial-text").attr("y",function(e){return-(o.options.diameter/2+e.index*(o.options.stroke.gap+o.options.stroke.width)+o.options.stroke.width/2)}).text(function(e){return e.labelStart}),o.update()}var a=window.d3;r.prototype.update=function(e){var t=this;if(e){"number"==typeof e&&(e=[e]);var n;Array.isArray(e)?n=e:"object"==typeof e&&(n=e.series||[]);for(var r=0;r<n.length;r++){this.options.series[r].previousValue=this.options.series[r].value;var i=n[r];"number"==typeof i?this.options.series[r].value=i:"object"==typeof i&&(this.options.series[r].value=i.value)}}t.options.series.forEach(function(e){e.fromPercentage=e.percentage?e.percentage:5,e.percentage=100*(e.value-t.options.min)/(t.options.max-t.options.min)});var o=t.svg.select("text.rbc-center-text");t.field.select("path.progress").interrupt().transition().duration(t.options.animation.duration).delay(function(e,n){return n*t.options.animation.delay}).ease("bounce").attrTween("d",function(e){var n=a.interpolateNumber(e.fromPercentage,e.percentage);return function(r){return e.percentage=n(r),t.progress(e)}}).tween("center",function(e){if(t.options.center){var n=t.options.round?a.interpolateRound:a.interpolateNumber,r=n(e.previousValue||0,e.value);return function(t){o.selectAll("tspan").each(function(){this.callback&&a.select(this).text(this.callback(r(t),e.index,e))})}}}).tween("interpolate-color",function(e){if(e.color.interpolate&&2==e.color.interpolate.length){var t=a.interpolateHsl(e.color.interpolate[0],e.color.interpolate[1]);return function(n){var r=t(e.percentage/100);a.select(this).style("fill",r),a.select(this.parentNode).select("path.bg").style("fill",r)}}}).style("fill",function(e){return e.color.solid?e.color.solid:e.color.linearGradient||e.color.radialGradient?"url(#gradient"+e.index+")":void 0})},r.prototype.destroy=function(){this.svg.remove(),delete this.svg},r.normalizeOptions=function(e){e&&"object"==typeof e||(e={});for(var t={diameter:e.diameter||100,stroke:{width:e.stroke&&e.stroke.width||40,gap:e.stroke&&e.stroke.gap||2},shadow:{width:e.shadow&&null!==e.shadow.width?e.shadow.width:4},animation:{duration:e.animation&&e.animation.duration||1750,delay:e.animation&&e.animation.delay||200},min:e.min||0,max:e.max||125,round:void 0!==e.round?!!e.round:!0,series:e.series||[],center:r.normalizeCenter(e.center),hover:e.hover,leave:e.leave},n=new r.ColorsIterator,a=0,i=t.series.length;i>a;a++){var o=e.series[a];"number"==typeof o&&(o={value:o}),t.series[a]={index:a,value:o.value,labelStart:o.labelStart,color:r.normalizeColor(o.color,n),labelGap:o.labelGap}}return t},r.normalizeColor=function(e,t){if(e?"string"==typeof e?e={solid:e}:Array.isArray(e)?e={interpolate:e}:"object"==typeof e&&(e.solid||e.interpolate||e.linearGradient||e.radialGradient||(e.solid=t.next())):e={solid:t.next()},e.interpolate&&2!==e.interpolate.length)throw new Error("interpolate array should contain two colors");if((e.linearGradient||e.radialGradient)&&(!e.stops||!Array.isArray(e.stops)||2!==e.stops.length))throw new Error("gradient syntax is malformed");return e},r.normalizeCenter=function(e){return e?(e.constructor!==Object&&(e={content:e}),e.content=e.content||[],e.x=e.x||0,e.y=e.y||0,Array.isArray(e.content)||(e.content=[e.content]),e):null},r.Gradient=function(){function e(){}return e.toSVGElement=function(e,t){var n=t.linearGradient?"linearGradient":"radialGradient",r=a.select(document.createElementNS(a.ns.prefix.svg,n)).attr(t[n]).attr("id",e);return t.stops.forEach(function(e){r.append("svg:stop").attr(e)}),r.node()},e}(),r.ColorsIterator=function(){function e(){this.index=0}return e.DEFAULT_COLORS=["#1ad5de","#a0ff03","#e90b3a","#ff9500","#007aff","#ffcc00","#5856d6","#8e8e93"],e.prototype.next=function(){return this.index===e.DEFAULT_COLORS.length&&(this.index=0),e.DEFAULT_COLORS[this.index++]},e}(),t.exports=r},{}],25:[function(e,t,n){t.exports=n=function(){$(".tip").tooltipsy({offset:[-10,0],show:function(e,t){t.css({left:parseInt(t[0].style.left.replace(/[a-z]/g,""))-50+"px",opacity:"0.0",display:"block"}).animate({left:parseInt(t[0].style.left.replace(/[a-z]/g,""))+50+"px",opacity:"1.0"},300)},hide:function(e,t){t.slideUp(100)},css:{padding:"10px","max-width":"200px",color:"#2b4c7e","background-color":"rgba(255, 255, 255, 0.95)",border:"1px solid #2b4c7e","border-radius":"10px","text-align":"justify"}})}},{}]},{},[1]);